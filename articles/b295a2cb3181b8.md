---
title: "æ–°è¦é–‹ç™ºã«ã¯ Kotlin ã¨ Java ã©ã£ã¡ã‚’ä½¿ã†ã¹ãã‹ï¼Ÿ ã€œ Kotlin ã¨ Java ã®æ¯”è¼ƒ ã€œ"
emoji: "ğŸ¥"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Kotlin", "Java", "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª"]
published: true
---

## å…ˆã«çµè«–

æ–°è¦é–‹ç™ºã«ã¯ç‰¹ã«ã“ã ã‚ã‚ŠãŒãªã‘ã‚Œã° Kotlin ã‚’ä½¿ã†ã¹ãã§ã™ã€‚
Kotlin ã¯ Java ã®æ¬ ç‚¹ã‚’è£œã†ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦è¨­è¨ˆã•ã‚Œã¦ãŠã‚Šã€ã‚ˆã‚Šãƒ¢ãƒ€ãƒ³ã§è¡¨ç¾åŠ›è±Šã‹ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã“ã¨ãŒã§ãã¾ã™ã€‚
ä»¥ä¸‹ã« Kotlin ã¨ Java ã®ä¸»ãªé•ã„ã¨ã€Kotlin ã‚’é¸ã¶ã¹ãç†ç”±ã‚’èª¬æ˜ã—ã¾ã™ã€‚

## Kotlin ãŒè§£æ±ºã™ã‚‹ Java ã®å•é¡Œç‚¹

Kotlin ã¯ Java ãŒæŠ±ãˆã‚‹ã„ãã¤ã‹ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚

### Null å®‰å…¨æ€§

- Kotlin ã§ã¯ null å‚ç…§ãŒ**å‹ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã£ã¦åˆ¶å¾¡**ã•ã‚Œã¦ãŠã‚Šã€NullPointerException ã‚’å¤§å¹…ã«å‰Šæ¸›ã§ãã¾ã™
- Java ã§ã¯ null ãƒã‚§ãƒƒã‚¯ã‚’å¿˜ã‚Œã‚‹ã¨å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™ãŒã€Kotlin ã§ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«æ¤œå‡ºå¯èƒ½ã§ã™

**Java ã®ä¾‹ï¼š**

```java
// Java: null ãƒã‚§ãƒƒã‚¯ã‚’å¿˜ã‚Œã‚‹ã¨ NullPointerException ãŒç™ºç”Ÿ
public String getUserName(User user) {
    // user ãŒ null ã®å ´åˆã€å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ
    return user.getName();  // å±é™ºï¼
}

// å®‰å…¨ãªæ›¸ãæ–¹ï¼ˆå†—é•·ã«ãªã‚ŠãŒã¡ï¼‰
public String getUserNameSafe(User user) {
    if (user != null) {
        String name = user.getName();
        if (name != null) {
            return name.toUpperCase();
        }
    }
    return "UNKNOWN";
}
```

**Kotlin ã®ä¾‹ï¼š**

```kotlin
// Kotlin: å‹ã‚·ã‚¹ãƒ†ãƒ ã§ null ã‚’åˆ¶å¾¡
fun getUserName(user: User): String {
    // user ã¯ non-null å‹ãªã®ã§ã€null ã‚’æ¸¡ã™ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼
    return user.name
}

// nullable å‹ã‚’ä½¿ã†å ´åˆã‚‚å®‰å…¨
fun getUserNameSafe(user: User?): String {
    // user ãŒ null ã‹ã‚‚ã—ã‚Œãªã„å ´åˆã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒå¼·åˆ¶çš„ã«ãƒã‚§ãƒƒã‚¯ã•ã›ã‚‹
    // return user.name  // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ï¼

    // å®‰å…¨å‘¼ã³å‡ºã—æ¼”ç®—å­ã¨ã‚¨ãƒ«ãƒ“ã‚¹æ¼”ç®—å­ã§ç°¡æ½”ã«è¨˜è¿°
    return user?.name?.uppercase() ?: "UNKNOWN"
}

// let ã‚’ä½¿ã£ãŸè¨˜è¿°ã‚‚å¯èƒ½ï¼ˆå¾Œè¿°ã®ã‚¹ã‚³ãƒ¼ãƒ—é–¢æ•°å‚ç…§ï¼‰
fun processUser(user: User?) {
    user?.let {
        println("Name: ${it.name}")
        println("Email: ${it.email}")
    }
}
```

Kotlin ã§ã¯ `?` ã‚’ä»˜ã‘ã‚‹ã“ã¨ã§ nullable å‹ã‚’æ˜ç¤ºçš„ã«å®£è¨€ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€null ã®å¯èƒ½æ€§ãŒã‚ã‚‹å€¤ã¨ãªã„å€¤ãŒå‹ãƒ¬ãƒ™ãƒ«ã§åŒºåˆ¥ã•ã‚Œã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã« null å®‰å…¨æ€§ãŒä¿è¨¼ã•ã‚Œã¾ã™ã€‚

### å‹å®‰å…¨æ€§ã®å‘ä¸Š

- **Raw å‹ãŒå­˜åœ¨ã—ãªã„**ãŸã‚ã€ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ãŒã‚ˆã‚Šå®‰å…¨ã«åˆ©ç”¨ã§ãã¾ã™
- é…åˆ—ã¯**å…±å¤‰ã§ã¯ãªã„ï¼ˆinvariantï¼‰**ãŸã‚ã€å‹å®‰å…¨æ€§ãŒä¿ãŸã‚Œã¾ã™
- é©åˆ‡ãª**é–¢æ•°å‹**ãŒã‚ã‚Šã€Java ã® SAM å¤‰æ›ã«ä¾å­˜ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“

#### Raw å‹ã®å•é¡Œï¼ˆJavaï¼‰

Java ã§ã¯ Raw å‹ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€å‹å®‰å…¨æ€§ãŒå¤±ã‚ã‚Œã¾ã™ã€‚

**Java ã®ä¾‹ï¼š**

```java
// Java: Raw å‹ã®ä½¿ç”¨ï¼ˆå±é™ºï¼‰
List list = new ArrayList();
list.add("String");
list.add(123);  // ç•°ãªã‚‹å‹ã‚’è¿½åŠ ã§ãã¦ã—ã¾ã†
String str = (String) list.get(1);  // å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ï¼ClassCastException

// å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æŒ‡å®šã—ãŸå®‰å…¨ãªæ›¸ãæ–¹
List<String> stringList = new ArrayList<>();
stringList.add("String");
// stringList.add(123);  // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼
```

**Kotlin ã®ä¾‹ï¼š**

```kotlin
// Kotlin: Raw å‹ã¯å­˜åœ¨ã—ãªã„
val list = mutableListOf<String>()
list.add("String")
// list.add(123)  // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ï¼å‹å®‰å…¨æ€§ãŒä¿è¨¼ã•ã‚Œã‚‹

// å‹æ¨è«–ã‚‚åˆ©ç”¨å¯èƒ½
val numbers = mutableListOf(1, 2, 3)  // MutableList<Int> ã¨æ¨è«–ã•ã‚Œã‚‹
// numbers.add("String")  // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼
```

#### é…åˆ—ã®å…±å¤‰æ€§ã®å•é¡Œ

Java ã®é…åˆ—ã¯å…±å¤‰ï¼ˆ covariant ï¼‰ã§ã™ãŒã€ã“ã‚Œã¯å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã®åŸå› ã«ãªã‚Šã¾ã™ã€‚

**Java ã®ä¾‹ï¼š**

```java
// Java: é…åˆ—ã¯å…±å¤‰ï¼ˆå±é™ºï¼‰
String[] strings = new String[1];
Object[] objects = strings;  // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«OK
objects[0] = 123;  // å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ï¼ArrayStoreException

// ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã¯ä¸å¤‰ï¼ˆå®‰å…¨ï¼‰
List<String> stringList = new ArrayList<>();
// List<Object> objectList = stringList;  // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ï¼ˆæ­£ã—ã„ï¼‰
```

**Kotlin ã®ä¾‹ï¼š**

```kotlin
// Kotlin: é…åˆ—ã¯ä¸å¤‰ï¼ˆå®‰å…¨ï¼‰
val strings = arrayOf("A", "B")
// val objects: Array<Any> = strings  // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ï¼å‹å®‰å…¨æ€§ãŒä¿è¨¼ã•ã‚Œã‚‹

// æ˜ç¤ºçš„ã«å¤‰æ›ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼ˆ Kotlin ã® it ã‚’ä½¿ã£ãŸãƒ©ãƒ ãƒ€å¼ã«ã¤ã„ã¦ã¯å¾Œè¿°ï¼‰
val objects: Array<Any> = strings.map { it as Any }.toTypedArray()
```

#### é–¢æ•°å‹ã®è¡¨ç¾

Java ã§ã¯é–¢æ•°å‹ã‚’è¡¨ç¾ã™ã‚‹ãŸã‚ã«é–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆSAMï¼‰ã‚’ä½¿ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€Kotlin ã«ã¯å°‚ç”¨ã®é–¢æ•°å‹ãŒã‚ã‚Šã¾ã™ã€‚

**Java ã®ä¾‹ï¼š**

```java
// Java: é–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
@FunctionalInterface
interface StringTransformer {
    String transform(String input);
}

public String processString(String input, StringTransformer transformer) {
    return transformer.transform(input);
}

// ä½¿ç”¨ä¾‹
String result = processString("hello", s -> s.toUpperCase());
```

**Kotlin ã®ä¾‹ï¼š**

```kotlin
// Kotlin: é–¢æ•°å‹ã‚’ç›´æ¥ä½¿ç”¨ã§ãã‚‹
fun processString(input: String, transformer: (String) -> String): String {
    return transformer(input)
}

// ä½¿ç”¨ä¾‹ï¼ˆã‚ˆã‚Šç°¡æ½”ï¼‰
val result = processString("hello") { it.uppercase() }

// é–¢æ•°å‹ã‚’å¤‰æ•°ã¨ã—ã¦æ‰±ãˆã‚‹
val transformer: (String) -> String = { it.uppercase() }
val result2 = processString("hello", transformer)

// è¤‡é›‘ãªé–¢æ•°å‹ã‚‚ç°¡å˜ã«å®šç¾©å¯èƒ½
val complexFunction: (Int, String) -> List<String> = { count, text ->
    List(count) { text }
}
```

Kotlin ã§ã¯é–¢æ•°å‹ãŒè¨€èªã«çµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ãŸã‚ã€ã‚ˆã‚Šè‡ªç„¶ã§å‹å®‰å…¨ãªé–¢æ•°ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãŒå¯èƒ½ã§ã™ã€‚

### ã‚ˆã‚ŠæŸ”è»Ÿãªã‚¸ã‚§ãƒãƒªã‚¯ã‚¹

- ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰å‹ã®ä»£ã‚ã‚Šã«ã€**ä½¿ç”¨å ´æ‰€ã§ã®å¤‰æ€§ï¼ˆUse-site varianceï¼‰**ã‚’ä½¿ç”¨
- ã‚ˆã‚Šç›´æ„Ÿçš„ã§èª­ã¿ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰è¨˜è¿°ãŒå¯èƒ½ã§ã™

### ä¾‹å¤–å‡¦ç†

- **æ¤œæŸ»ä¾‹å¤–ï¼ˆChecked exceptionsï¼‰ãŒãªã„**ãŸã‚ã€å†—é•·ãª try-catch ãƒ–ãƒ­ãƒƒã‚¯ã‹ã‚‰è§£æ”¾ã•ã‚Œã¾ã™

### ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³

- **èª­ã¿å–ã‚Šå°‚ç”¨ã¨å¯å¤‰ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒåˆ†é›¢**ã•ã‚Œã¦ãŠã‚Šã€æ„å›³ã—ãªã„å¤‰æ›´ã‚’é˜²ã’ã¾ã™

## Java ã«ã‚ã£ã¦ Kotlin ã«ãªã„ã‚‚ã®

### æ¤œæŸ»ä¾‹å¤–ï¼ˆChecked exceptionsï¼‰

Kotlin ã§ã¯æ¤œæŸ»ä¾‹å¤–ã‚’å»ƒæ­¢ã—ã€ã‚ˆã‚Šç°¡æ½”ãªã‚³ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚

### ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å‹

ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å‹ãŒæ˜ç¤ºçš„ã«ã¯åˆ©ç”¨ã§ãã¾ã›ã‚“ãŒã€ãƒã‚¤ãƒˆã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ™ãƒ«ã§ã¯å¯èƒ½ãªé™ã‚Šãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å‹ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

### é™çš„ãƒ¡ãƒ³ãƒãƒ¼

Java ã® static ãƒ¡ãƒ³ãƒãƒ¼ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªä»£æ›¿æ‰‹æ®µãŒã‚ã‚Šã¾ã™ï¼š

- Companion objectsï¼ˆã‚³ãƒ³ãƒ‘ãƒ‹ã‚ªãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰
- ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«é–¢æ•°
- æ‹¡å¼µé–¢æ•°
- @JvmStatic ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

### ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰å‹

ä»¥ä¸‹ã®ã‚ˆã†ãªä»£æ›¿æ‰‹æ®µãŒã‚ã‚Šã¾ã™ï¼š

- å®£è¨€å ´æ‰€ã§ã®å¤‰æ€§ï¼ˆDeclaration-site varianceï¼‰
- å‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆType projectionsï¼‰

### ä¸‰é …æ¼”ç®—å­

`a ? b : c` ã®ä»£ã‚ã‚Šã«ã€**if å¼**ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

### ãã®ä»–

- Recordsï¼ˆKotlin ã«ã¯ data class ãŒã‚ã‚Šã¾ã™ï¼‰
- ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ï¼ˆéƒ¨åˆ†çš„ã«å¯¾å¿œï¼‰
- package-private å¯è¦–æ€§ä¿®é£¾å­

## Kotlin ã ã‘ãŒæŒã¤å¼·åŠ›ãªæ©Ÿèƒ½

### ãƒ©ãƒ ãƒ€å¼ã¨ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³é–¢æ•°

Kotlin ã®ãƒ©ãƒ ãƒ€å¼ã¨ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³é–¢æ•°ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æãªã‚ãšã«ã‚«ã‚¹ã‚¿ãƒ åˆ¶å¾¡æ§‹é€ ã‚’ä½œæˆã§ãã¾ã™ã€‚

#### ãƒ©ãƒ ãƒ€å¼ã®åŸºæœ¬

```kotlin
// åŸºæœ¬çš„ãªãƒ©ãƒ ãƒ€å¼
val sum: (Int, Int) -> Int = { a, b -> a + b }
println(sum(3, 5))  // 8

// ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒ1ã¤ã®å ´åˆã¯ it ã‚’ä½¿ç”¨
val double: (Int) -> Int = { it * 2 }
println(double(5))  // 10

// æˆ»ã‚Šå€¤ãŒãªã„å ´åˆ
val greet: (String) -> Unit = { name -> println("Hello, $name") }
greet("Kotlin")  // Hello, Kotlin

// é–¢æ•°ã®å¼•æ•°ã¨ã—ã¦æ¸¡ã™
fun applyOperation(a: Int, b: Int, operation: (Int, Int) -> Int): Int {
    return operation(a, b)
}

val result = applyOperation(10, 5) { x, y -> x - y }
println(result)  // 5
```

#### ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³é–¢æ•°

ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³é–¢æ•°ã¯ã€ãƒ©ãƒ ãƒ€å¼ã‚’ãƒã‚¤ãƒˆã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ™ãƒ«ã§å±•é–‹ã™ã‚‹ãŸã‚ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã‚’å‰Šæ¸›ã§ãã¾ã™ã€‚

```kotlin
// é€šå¸¸ã®é–¢æ•°ï¼ˆãƒ©ãƒ ãƒ€ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ï¼‰
fun <T> normalFilter(list: List<T>, predicate: (T) -> Boolean): List<T> {
    val result = mutableListOf<T>()
    for (item in list) {
        if (predicate(item)) {
            result.add(item)
        }
    }
    return result
}

// ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³é–¢æ•°ï¼ˆãƒ©ãƒ ãƒ€ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å±•é–‹ã•ã‚Œã‚‹ï¼‰
inline fun <T> inlineFilter(list: List<T>, predicate: (T) -> Boolean): List<T> {
    val result = mutableListOf<T>()
    for (item in list) {
        if (predicate(item)) {
            result.add(item)
        }
    }
    return result
}

// ä½¿ç”¨ä¾‹
val numbers = listOf(1, 2, 3, 4, 5)
val evenNumbers = inlineFilter(numbers) { it % 2 == 0 }
println(evenNumbers)  // [2, 4]
```

#### ã‚«ã‚¹ã‚¿ãƒ åˆ¶å¾¡æ§‹é€ ã®ä½œæˆ

ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³é–¢æ•°ã§ç‹¬è‡ªã®åˆ¶å¾¡æ§‹é€ ã‚’ä½œæˆã§ãã¾ã™ã€‚

```kotlin
// ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ—æ§‹é€ 
inline fun repeat(times: Int, action: (Int) -> Unit) {
    for (i in 0 until times) {
        action(i)
    }
}

// ä½¿ç”¨ä¾‹
repeat(3) { i ->
    println("Iteration $i")
}

// ã‚«ã‚¹ã‚¿ãƒ  if æ§‹é€ 
inline fun <T> ifNotNull(value: T?, block: (T) -> Unit) {
    if (value != null) {
        block(value)
    }
}

val name: String? = "Kotlin"
ifNotNull(name) { n ->
    println("Name: $n")
}

// ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†ã®ä¾‹ï¼ˆtry-with-resources çš„ãªåˆ¶å¾¡æ§‹é€ ï¼‰
inline fun <T : AutoCloseable, R> withResource(resource: T, block: (T) -> R): R {
    return try {
        block(resource)
    } finally {
        resource.close()
    }
}

// ä½¿ç”¨ä¾‹
val result = withResource(FileReader("file.txt")) { reader ->
    reader.readText()
}
```

#### Java ã¨ã®æ¯”è¼ƒ

**Java ã§ã®å®Ÿè£…ï¼š**

```java
// Java: é–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½¿ç”¨ï¼ˆãƒ©ãƒ ãƒ€ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåŒ–ã•ã‚Œã‚‹ï¼‰
@FunctionalInterface
interface IntOperation {
    int operate(int a, int b);
}

public static int applyOperation(int a, int b, IntOperation operation) {
    return operation.operate(a, b);
}

// ä½¿ç”¨ä¾‹
int result = applyOperation(10, 5, (x, y) -> x - y);  // ãƒ©ãƒ ãƒ€ãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ç”Ÿæˆã•ã‚Œã‚‹

// Java ã§ã¯ã‚«ã‚¹ã‚¿ãƒ åˆ¶å¾¡æ§‹é€ ã‚’ä½œæˆã—ã¥ã‚‰ã„
// ãªãœãªã‚‰ã€ãƒ©ãƒ ãƒ€ãŒãƒ©ãƒƒãƒ‘ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ãªã‚‹ãŸã‚ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«å½±éŸ¿ã™ã‚‹
```

**Kotlin ã§ã®å®Ÿè£…ï¼š**

```kotlin
// Kotlin: ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³é–¢æ•°ã§ã‚«ã‚¹ã‚¿ãƒ åˆ¶å¾¡æ§‹é€ ãŒåŠ¹ç‡çš„ã«å®Ÿè£…ã§ãã‚‹
inline fun applyOperation(a: Int, b: Int, operation: (Int, Int) -> Int): Int {
    return operation(a, b)
}

// ä½¿ç”¨ä¾‹
val result = applyOperation(10, 5) { x, y -> x - y }  // ãƒ©ãƒ ãƒ€ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å±•é–‹ã•ã‚Œã‚‹

// ã‚«ã‚¹ã‚¿ãƒ åˆ¶å¾¡æ§‹é€ ã‚‚åŠ¹ç‡çš„ã«å®Ÿè£…å¯èƒ½
inline fun <T> myFilter(items: List<T>, predicate: (T) -> Boolean): List<T> {
    return items.filter(predicate)
}
```

ã“ã®ç‰¹æ€§ã«ã‚ˆã‚Šã€Kotlin ã§ã¯é–¢æ•°å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®è¡¨ç¾åŠ›ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ä¸¡ç«‹ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### æ‹¡å¼µé–¢æ•°ï¼ˆExtension functionsï¼‰

æ—¢å­˜ã®ã‚¯ãƒ©ã‚¹ã«æ–°ã—ã„ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã§ãã¾ã™ã€‚ç¶™æ‰¿ãªã—ã«æ©Ÿèƒ½ã‚’æ‹¡å¼µã§ãã‚‹ãŸã‚ã€éå¸¸ã«æŸ”è»Ÿã§ã™ã€‚

**Kotlin ã®ä¾‹ï¼š**

```kotlin
// String ã‚¯ãƒ©ã‚¹ã« isEmail ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ 
fun String.isEmail(): Boolean {
    return this.contains("@") && this.contains(".")
}

val email = "user@example.com"
if (email.isEmail()) {
    println("Valid email")
}

// List ã‚¯ãƒ©ã‚¹ã«åˆè¨ˆã¨å¹³å‡ã‚’è¨ˆç®—ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ 
fun List<Int>.sum(): Int = this.fold(0) { acc, value -> acc + value }
fun List<Int>.average(): Double = this.sum().toDouble() / this.size

val numbers = listOf(1, 2, 3, 4, 5)
println(numbers.sum())      // 15
println(numbers.average())  // 3.0

// nullable ãªå‹ã«ã‚‚æ‹¡å¼µé–¢æ•°ã‚’è¿½åŠ å¯èƒ½
fun String?.orEmpty(): String = this ?: ""

val name: String? = null
println(name.orEmpty())  // ""
```

**Java ã§ã¯ç¶™æ‰¿ã‚„ãƒ©ãƒƒãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã‚’ä½¿ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š**

```java
// Java: ç¶™æ‰¿ã‚’ä½¿ã£ãŸæ‹¡å¼µï¼ˆè¤‡é›‘ï¼‰
class EmailString extends String {
    public boolean isEmail() {
        return this.contains("@") && this.contains(".");
    }
}

// ã¾ãŸã¯ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆ
public class StringUtils {
    public static boolean isEmail(String str) {
        return str.contains("@") && str.contains(".");
    }
}
```

### Null å®‰å…¨æ€§

- å‹ã‚·ã‚¹ãƒ†ãƒ ãƒ¬ãƒ™ãƒ«ã§ã® null ãƒã‚§ãƒƒã‚¯

### ã‚¹ãƒãƒ¼ãƒˆã‚­ãƒ£ã‚¹ãƒˆ

å‹ãƒã‚§ãƒƒã‚¯å¾Œã«è‡ªå‹•çš„ã«ã‚­ãƒ£ã‚¹ãƒˆã•ã‚Œã¾ã™ã€‚æ˜ç¤ºçš„ãªã‚­ãƒ£ã‚¹ãƒˆãŒä¸è¦ã«ãªã‚Šã€ã‚³ãƒ¼ãƒ‰ãŒç°¡æ½”ã«ãªã‚Šã¾ã™ã€‚

**Kotlin ã®ä¾‹ï¼š**

```kotlin
fun displayValue(value: Any) {
    when (value) {
        is String -> {
            // ã“ã®æ™‚ç‚¹ã§ value ã¯ String å‹ã«è‡ªå‹•ã‚­ãƒ£ã‚¹ãƒˆ
            println("String length: ${value.length}")
            println("Uppercase: ${value.uppercase()}")
        }
        is Int -> {
            // ã“ã®æ™‚ç‚¹ã§ value ã¯ Int å‹ã«è‡ªå‹•ã‚­ãƒ£ã‚¹ãƒˆ
            println("Number: $value")
            println("Double: ${value * 2}")
        }
        is List<*> -> {
            // ã“ã®æ™‚ç‚¹ã§ value ã¯ List å‹ã«è‡ªå‹•ã‚­ãƒ£ã‚¹ãƒˆ
            println("List size: ${value.size}")
        }
        else -> println("Unknown type")
    }
}

val items = listOf("hello", 42, listOf(1, 2, 3))
for (item in items) {
    displayValue(item)
}
```

**Java ã§ã®åŒç­‰ã®å‡¦ç†ï¼ˆå†—é•·ï¼‰ï¼š**

```java
public void displayValue(Object value) {
    if (value instanceof String) {
        // æ˜ç¤ºçš„ã«ã‚­ãƒ£ã‚¹ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹
        String str = (String) value;
        System.out.println("String length: " + str.length());
        System.out.println("Uppercase: " + str.toUpperCase());
    } else if (value instanceof Integer) {
        // æ˜ç¤ºçš„ã«ã‚­ãƒ£ã‚¹ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹
        int num = (Integer) value;
        System.out.println("Number: " + num);
        System.out.println("Double: " + (num * 2));
    } else if (value instanceof List<?>) {
        // æ˜ç¤ºçš„ã«ã‚­ãƒ£ã‚¹ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹
        List<?> list = (List<?>) value;
        System.out.println("List size: " + list.size());
    }
}
```

Java 16 ã§ Pattern Matching for instanceof ãŒè¿½åŠ ã•ã‚Œã€Kotlin ã«è¿‘ã„æ›¸ãæ–¹ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

### æ–‡å­—åˆ—ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

æ–‡å­—åˆ—ã«å¤‰æ•°ã‚„å¼ã‚’ç›´æ¥åŸ‹ã‚è¾¼ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚

```kotlin
// å¤‰æ•°ã®åŸ‹ã‚è¾¼ã¿
val name = "Kotlin"
val version = 1.9
println("Hello, $name!")  // Hello, Kotlin!
println("Version: $version")  // Version: 1.9

// å¼ã®åŸ‹ã‚è¾¼ã¿
val a = 5
val b = 10
println("Sum: ${a + b}")  // Sum: 15

// ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—
val message = "hello world"
println("Uppercase: ${message.uppercase()}")  // Uppercase: HELLO WORLD

// æ¡ä»¶å¼
val score = 85
println("Result: ${if (score >= 80) "Pass" else "Fail"}")  // Result: Pass
```

**Java ã§ã®åŒç­‰ã®å‡¦ç†ï¼š**

```java
String name = "Java";
int version = 21;
System.out.println("Hello, " + name + "!");  // Hello, Java!
System.out.println("Version: " + version);     // Version: 21

int a = 5;
int b = 10;
System.out.println("Sum: " + (a + b));         // Sum: 15

String message = "hello world";
System.out.println("Uppercase: " + message.toUpperCase());  // UPPERCASE: HELLO WORLD

int score = 85;
System.out.println("Result: " + (score >= 80 ? "Pass" : "Fail"));  // Result: Pass
```

### ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¨ã‚¢ã‚¯ã‚»ã‚µï¼ˆgetter/setterï¼‰ã‚’ç°¡æ½”ã«è¨˜è¿°ã§ãã¾ã™ã€‚Kotlin ã§ã¯ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£æ§‹æ–‡ãŒè¨€èªã«çµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã™ã€‚

**Kotlin ã®ä¾‹ï¼š**

```kotlin
class Person {
    // èª­ã¿å–ã‚Šå°‚ç”¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
    val id: Int = 0

    // å¯å¤‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ getter/setterï¼‰
    var name: String = ""

    // ã‚«ã‚¹ã‚¿ãƒ  getter ã‚’æŒã¤ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
    val displayName: String
        get() = "Name: $name"

    // ã‚«ã‚¹ã‚¿ãƒ  setter ã‚’æŒã¤ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
    var age: Int = 0
        set(value) {
            if (value >= 0) {
                field = value  // field ã¯è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ãƒãƒƒã‚­ãƒ³ã‚°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
            }
        }
}

val person = Person()
person.name = "Kotlin"  // setter ãŒå‘¼ã°ã‚Œã‚‹
println(person.name)     // getter ãŒå‘¼ã°ã‚Œã‚‹
println(person.displayName)  // "Name: Kotlin"
person.age = 25
```

**Java ã§ã®æ¨™æº–çš„ãªå®Ÿè£…ï¼ˆå†—é•·ï¼‰ï¼š**

```java
public class Person {
    private int id = 0;
    private String name = "";
    private int age = 0;

    // getter/setter ã‚’æ‰‹å‹•ã§è¨˜è¿°
    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getDisplayName() {
        return "Name: " + name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        if (age >= 0) {
            this.age = age;
        }
    }
}
```

Java ã§ boilerplate ï¼ˆå†—é•·ãªã‚³ãƒ¼ãƒ‰ï¼‰ã‚’å‰Šæ¸›ã—ãŸã„å ´åˆã¯ Lombokï¼ˆ@Data ãªã©ï¼‰ã‚‚åˆ©ç”¨ã§ãã¾ã™ãŒã€è‡ªå‹•ç”Ÿæˆæ©Ÿèƒ½ã®æ¯”è¼ƒã¯å¾Œè¿°ã®ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ç¯€ã«ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚

### ãƒ—ãƒ©ã‚¤ãƒãƒªã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿

ã‚¯ãƒ©ã‚¹å®£è¨€ã¨åŒæ™‚ã«ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’å®šç¾©ã§ãã¾ã™ã€‚ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®åˆæœŸåŒ–ã‚‚åŒæ™‚ã«è¡Œãˆã€éå¸¸ã«ç°¡æ½”ã§ã™ã€‚

**Kotlin ã®ä¾‹ï¼š**

```kotlin
// ãƒ—ãƒ©ã‚¤ãƒãƒªã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§å¼•æ•°ã‚’æŒ‡å®š
class User(val id: Int, var name: String, var email: String) {
    init {
        println("User created: $name")
    }
}

val user = User(1, "Kotlin", "kotlin@example.com")
println(user.name)   // Kotlin
println(user.id)     // 1

// ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§è¨ˆç®—ã‚’è¡Œã†ã“ã¨ã‚‚å¯èƒ½
class Rectangle(val width: Double, val height: Double) {
    val area: Double
        get() = width * height
}

val rect = Rectangle(5.0, 10.0)
println(rect.area)  // 50.0
```

**Java ã§ã®åŒç­‰ã®å‡¦ç†ï¼ˆå†—é•·ï¼‰ï¼š**

```java
public class User {
    private final int id;
    private String name;
    private String email;

    // ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’æ˜ç¤ºçš„ã«è¨˜è¿°
    public User(int id, String name, String email) {
        this.id = id;
        this.name = name;
        this.email = email;
        System.out.println("User created: " + name);
    }

    // getter/setter ã‚’æ‰‹å‹•ã§è¨˜è¿°
    public int getId() { return id; }
    public String getName() { return name; }
    public void setName(String name) { this.name = name; }
    public String getEmail() { return email; }
    public void setEmail(String email) { this.email = email; }
}
```

### å§”è­²ï¼ˆDelegationï¼‰

First-class delegation ã§ç¶™æ‰¿ã‚ˆã‚Šã‚‚æŸ”è»Ÿãªè¨­è¨ˆãŒã§ãã¾ã™ã€‚

**Kotlin ã®ä¾‹ï¼š**

```kotlin
interface Logger {
    fun log(message: String)
    fun error(message: String)
}

class ConsoleLogger : Logger {
    override fun log(message: String) = println("[LOG] $message")
    override fun error(message: String) = println("[ERROR] $message")
}

// by ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§å§”è­²ã‚’å®£è¨€
class TimestampLogger(val logger: Logger) : Logger by logger {
    override fun log(message: String) {
        logger.log("[${System.currentTimeMillis()}] $message")
    }
}

val logger: Logger = ConsoleLogger()
val tsLogger = TimestampLogger(logger)
tsLogger.log("Application started")  // [ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—] Application started
tsLogger.error("An error occurred")   // [ERROR] An error occurred
```

**Java ã§ã®åŒç­‰ã®å‡¦ç†ï¼ˆå†—é•·ï¼‰ï¼š**

```java
public interface Logger {
    void log(String message);
    void error(String message);
}

public class TimestampLogger implements Logger {
    private final Logger logger;

    public TimestampLogger(Logger logger) {
        this.logger = logger;
    }

    @Override
    public void log(String message) {
        logger.log("[" + System.currentTimeMillis() + "] " + message);
    }

    @Override
    public void error(String message) {
        logger.error(message);  // å§”è­²
    }
}
```

### å‹æ¨è«–

- å¤‰æ•°ã‚„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å‹ã‚’è‡ªå‹•æ¨è«–
- Java 10 ã§ var ã«ã‚ˆã‚‹é™å®šçš„ãªå‹æ¨è«–ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸ

### ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³

`object` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§ç°¡å˜ã«ä½œæˆã§ãã¾ã™ã€‚ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ãªå®Ÿè£…ãŒè‡ªå‹•ã§è¡Œã‚ã‚Œã¾ã™ã€‚

**Kotlin ã®ä¾‹ï¼š**

```kotlin
// ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
object Database {
    init {
        println("Database initialized")
    }

    fun connect(url: String) {
        println("Connecting to $url")
    }
}

// ä½¿ç”¨ä¾‹ï¼ˆå¸¸ã«åŒã˜ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼‰
Database.connect("jdbc:mysql://localhost:3306/mydb")
Database.connect("jdbc:mysql://localhost:3306/mydb")  // åŒã˜ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ç”¨

// ã‚³ãƒ³ãƒ‘ãƒ‹ã‚ªãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆã‚¯ãƒ©ã‚¹å†…ã®ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ï¼‰
class Config {
    companion object {
        fun loadConfig(): String = "config.xml"
    }
}

val configFile = Config.loadConfig()
```

**Java ã§ã®åŒç­‰ã®å‡¦ç†ï¼ˆè¤‡é›‘ï¼‰ï¼š**

```java
public class Database {
    private static Database instance = null;

    // double-checked locking ãƒ‘ã‚¿ãƒ¼ãƒ³
    public static Database getInstance() {
        if (instance == null) {
            synchronized (Database.class) {
                if (instance == null) {
                    instance = new Database();
                    System.out.println("Database initialized");
                }
            }
        }
        return instance;
    }

    public void connect(String url) {
        System.out.println("Connecting to " + url);
    }
}

// ä½¿ç”¨ä¾‹
Database.getInstance().connect("jdbc:mysql://localhost:3306/mydb");
```

### å®£è¨€å ´æ‰€ã§ã®å¤‰æ€§ã¨å‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³

- ã‚ˆã‚ŠæŸ”è»Ÿãªã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã®åˆ©ç”¨

### ãƒ¬ãƒ³ã‚¸å¼

ç¯„å›²ã‚’ç°¡æ½”ã«è¡¨ç¾ã§ãã¾ã™ã€‚ãƒ«ãƒ¼ãƒ—ã‚„ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã§æ´»ç”¨ã§ãã¾ã™ã€‚

```kotlin
// ç¯„å›²ã‚’æŒ‡å®šã—ãŸãƒ«ãƒ¼ãƒ—
for (i in 1..10) {
    println(i)  // 1 ã‹ã‚‰ 10 ã¾ã§ï¼ˆä¸¡ç«¯å«ã‚€ï¼‰
}

// é™é †ã®ãƒ¬ãƒ³ã‚¸
for (i in 10 downTo 1) {
    println(i)  // 10 ã‹ã‚‰ 1 ã¾ã§
}

// ã‚¹ãƒ†ãƒƒãƒ—ã‚’æŒ‡å®š
for (i in 1..10 step 2) {
    println(i)  // 1, 3, 5, 7, 9
}

// ç¯„å›²ãƒã‚§ãƒƒã‚¯
val score = 85
if (score in 80..100) {
    println("Good score")
}

// æ–‡å­—ã®ç¯„å›²
for (c in 'A'..'Z') {
    print(c)  // A ã‹ã‚‰ Z ã¾ã§
}

// ãƒªã‚¹ãƒˆã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç¯„å›²
val list = listOf("a", "b", "c", "d", "e")
for (i in list.indices) {
    println(list[i])
}

// reversed ã®ä½¿ç”¨
for (i in (1..5).reversed()) {
    println(i)  // 5, 4, 3, 2, 1
}
```

**Java ã§ã®åŒç­‰ã®å‡¦ç†ï¼š**

```java
// ç¯„å›²ã‚’æŒ‡å®šã—ãŸãƒ«ãƒ¼ãƒ—
for (int i = 1; i <= 10; i++) {
    System.out.println(i);
}

// é™é †ã®ãƒ«ãƒ¼ãƒ—
for (int i = 10; i >= 1; i--) {
    System.out.println(i);
}

// ã‚¹ãƒ†ãƒƒãƒ—ã‚’æŒ‡å®š
for (int i = 1; i <= 10; i += 2) {
    System.out.println(i);
}

// ç¯„å›²ãƒã‚§ãƒƒã‚¯
int score = 85;
if (score >= 80 && score <= 100) {
    System.out.println("Good score");
}
```

### æ¼”ç®—å­ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰

ç‹¬è‡ªã®æ¼”ç®—å­å®šç¾©ãŒå¯èƒ½ã§ã™ã€‚ç›´æ„Ÿçš„ã§èª­ã¿ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰ãŒå®Ÿç¾ã§ãã¾ã™ã€‚

**Kotlin ã®ä¾‹ï¼š**

```kotlin
// Vector ã‚¯ãƒ©ã‚¹ã§æ¼”ç®—å­ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰
data class Vector(val x: Int, val y: Int) {
    // + æ¼”ç®—å­ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰
    operator fun plus(other: Vector): Vector {
        return Vector(x + other.x, y + other.y)
    }

    // - æ¼”ç®—å­ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰
    operator fun minus(other: Vector): Vector {
        return Vector(x - other.x, y - other.y)
    }

    // * æ¼”ç®—å­ï¼ˆã‚¹ã‚«ãƒ©ãƒ¼å€ï¼‰ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰
    operator fun times(scalar: Int): Vector {
        return Vector(x * scalar, y * scalar)
    }

    // == æ¼”ç®—å­ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰
    override fun equals(other: Any?): Boolean {
        if (other !is Vector) return false
        return x == other.x && y == other.y
    }
}

val v1 = Vector(1, 2)
val v2 = Vector(3, 4)

println(v1 + v2)      // Vector(4, 6)
println(v2 - v1)      // Vector(2, 2)
println(v1 * 5)       // Vector(5, 10)
println(v1 == Vector(1, 2))  // true
```

**Java ã§ã¯æ¼”ç®—å­ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ï¼š**

```java
public class Vector {
    public int x, y;

    public Vector(int x, int y) {
        this.x = x;
        this.y = y;
    }

    // ãƒ¡ã‚½ãƒƒãƒ‰åã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
    public Vector plus(Vector other) {
        return new Vector(x + other.x, y + other.y);
    }

    public Vector minus(Vector other) {
        return new Vector(x - other.x, y - other.y);
    }

    public Vector times(int scalar) {
        return new Vector(x * scalar, y * scalar);
    }
}

// ä½¿ç”¨æ™‚ã«å†—é•·
Vector v1 = new Vector(1, 2);
Vector v2 = new Vector(3, 4);
Vector result = v1.plus(v2);  // v1 + v2 ã¨ã¯æ›¸ã‘ãªã„
```

### ã‚³ãƒ³ãƒ‘ãƒ‹ã‚ªãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ

ã‚¯ãƒ©ã‚¹ã«é–¢é€£ã™ã‚‹ static çš„ãªæ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚Java ã® static ãƒ¡ãƒ³ãƒãƒ¼ã®ä»£æ›¿æ‰‹æ®µã§ã™ã€‚

**Kotlin ã®ä¾‹ï¼š**

```kotlin
class User(val id: Int, val name: String) {
    companion object {
        private var nextId = 1

        fun create(name: String): User {
            val user = User(nextId++, name)
            println("Created user: $name")
            return user
        }

        fun loadFromDatabase(id: Int): User? {
            // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰èª­ã¿è¾¼ã‚€å‡¦ç†
            return User(id, "FromDB")
        }
    }
}

// ä½¿ç”¨ä¾‹
val user1 = User.create("Alice")
val user2 = User.create("Bob")
val user3 = User.loadFromDatabase(1)
```

**Java ã§ã®åŒç­‰ã®å‡¦ç†ï¼š**

```java
public class User {
    private int id;
    private String name;
    private static int nextId = 1;

    private User(int id, String name) {
        this.id = id;
        this.name = name;
    }

    // static ãƒ¡ã‚½ãƒƒãƒ‰
    public static User create(String name) {
        User user = new User(nextId++, name);
        System.out.println("Created user: " + name);
        return user;
    }

    public static User loadFromDatabase(int id) {
        return new User(id, "FromDB");
    }
}
```

### ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹

equalsã€hashCodeã€toStringã€copy ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿ä¿å­˜ç”¨ã®ã‚¯ãƒ©ã‚¹ã«æœ€é©ã§ã™ã€‚

```kotlin
data class User(val id: Int, val name: String, val email: String)

val user1 = User(1, "Alice", "alice@example.com")
val user2 = User(1, "Alice", "alice@example.com")
val user3 = User(2, "Bob", "bob@example.com")

// equals ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹
println(user1 == user2)  // trueï¼ˆå†…å®¹ãŒåŒã˜ï¼‰
println(user1 == user3)  // false

// toString ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹
println(user1)  // User(id=1, name=Alice, email=alice@example.com)

// hashCode ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹
val userSet = setOf(user1, user2, user3)  // user1 ã¨ user2 ã¯åŒã˜ã‚‚ã®ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹
println(userSet.size)  // 2

// copy ãƒ¡ã‚½ãƒƒãƒ‰ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹
val updatedUser = user1.copy(name = "Alice Smith")
println(updatedUser)  // User(id=1, name=Alice Smith, email=alice@example.com)
```

**Java ã§ã®åŒç­‰ã®å‡¦ç†ï¼ˆéå¸¸ã«å†—é•·ï¼‰ï¼š**

```java
public class User {
    private final int id;
    private final String name;
    private final String email;

    public User(int id, String name, String email) {
        this.id = id;
        this.name = name;
        this.email = email;
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        User user = (User) o;
        return id == user.id &&
               Objects.equals(name, user.name) &&
               Objects.equals(email, user.email);
    }

    @Override
    public int hashCode() {
        return Objects.hash(id, name, email);
    }

    @Override
    public String toString() {
        return "User{" +
                "id=" + id +
                ", name='" + name + '\'' +
                ", email='" + email + '\'' +
                '}';
    }

    public User copy(int id, String name, String email) {
        return new User(id, name, email);
    }
}
```

**Java + Lombok ã§ã®å®Ÿè£…ï¼ˆç°¡æ½”ï¼‰ï¼š**

Lombok ã¯ Java ã® boilerplate ã‚³ãƒ¼ãƒ‰ã‚’å‰Šæ¸›ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚`@Data` ã§ Kotlin ã® `data class` ã«è¿‘ã„è‡ªå‹•ç”ŸæˆãŒå¯èƒ½ã§ã™ãŒã€ã‚«ã‚¹ã‚¿ãƒ  getter ã¯æ‰‹å‹•ã§æ›¸ãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```java
import lombok.Data;

@Data  // getter, setter, equals, hashCode, toString ã‚’è‡ªå‹•ç”Ÿæˆ
public class User {
    private final int id;
    private String name;
    private String email;

    // ã‚«ã‚¹ã‚¿ãƒ  getter ã¯æ‰‹å‹•ã§è¨˜è¿°
    public String getDisplayName() {
        return "Name: " + name;
    }
}
```

**æ¯”è¼ƒè¡¨ï¼ˆãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ã¨ Lombokï¼‰ï¼š**

| æ©Ÿèƒ½                   | Kotlin data class | Javaï¼ˆæ¨™æº–ï¼‰ | Java + Lombok                  |
| ---------------------- | ----------------- | ------------ | ------------------------------ |
| equals/hashCode        | è‡ªå‹•ç”Ÿæˆ          | æ‰‹å‹•è¨˜è¿°     | @Data ã§è‡ªå‹•ç”Ÿæˆ               |
| toString               | è‡ªå‹•ç”Ÿæˆ          | æ‰‹å‹•è¨˜è¿°     | @Data ã§è‡ªå‹•ç”Ÿæˆ               |
| copy                   | `copy` ãŒè‡ªå‹•ç”Ÿæˆ | æ‰‹å‹•å®Ÿè£…     | æ‰‹å‹•å®Ÿè£…ï¼ˆ@Data ã«ã¯ãªã—ï¼‰     |
| ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿         | ãƒ—ãƒ©ã‚¤ãƒãƒªã§ç°¡æ½”  | æ‰‹å‹•å®Ÿè£…     | @AllArgsConstructor ãªã©ã‚’ä½µç”¨ |
| ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã® null å®‰å…¨ | å‹ã‚·ã‚¹ãƒ†ãƒ ã§åˆ¶å¾¡  | æ‰‹å‹•ãƒã‚§ãƒƒã‚¯ | æ‰‹å‹•ãƒã‚§ãƒƒã‚¯                   |

Kotlin ã¯è¨€èªçµ„ã¿è¾¼ã¿ã® `data class` ã ã‘ã§å®Œçµã—ã€copy ãªã©ã®ä¾¿åˆ©ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚è‡ªå‹•ã§æƒã„ã¾ã™ã€‚Lombok ã§ã‚‚å¤šãã‚’è‡ªå‹•åŒ–ã§ãã¾ã™ãŒã€ä¸€éƒ¨ã®æ©Ÿèƒ½ï¼ˆcopy ç›¸å½“ï¼‰ã‚„ null å®‰å…¨æ€§ã¯é–‹ç™ºè€…ãŒè£œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### ã‚³ãƒ«ãƒ¼ãƒãƒ³

éåŒæœŸå‡¦ç†ã‚’ç°¡æ½”ã‹ã¤åŠ¹ç‡çš„ã«è¨˜è¿°ã§ãã¾ã™ã€‚ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯åœ°ç„ã‚’é¿ã‘ã‚‰ã‚Œã¾ã™ã€‚

**Kotlin ã®ä¾‹ï¼š**

```kotlin
import kotlinx.coroutines.*

// éåŒæœŸå‡¦ç†ã‚’ç°¡æ½”ã«è¨˜è¿°
suspend fun fetchUserData(userId: Int): String {
    delay(1000)  // éåŒæœŸå‡¦ç†ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
    return "User Data for $userId"
}

suspend fun fetchUserEmail(userId: Int): String {
    delay(500)
    return "user$userId@example.com"
}

// ä¸¦åˆ—å‡¦ç†
suspend fun getUserInfo(userId: Int): Pair<String, String> = coroutineScope {
    val data = async { fetchUserData(userId) }
    val email = async { fetchUserEmail(userId) }

    Pair(data.await(), email.await())
}

// ä½¿ç”¨ä¾‹
fun main() = runBlocking {
    val result = getUserInfo(1)
    println(result)
}
```

**Java ã§ã®åŒç­‰ã®å‡¦ç†ï¼ˆã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯åœ°ç„ï¼‰ï¼š**

```java
public void getUserInfo(int userId, Consumer<UserInfo> callback) {
    fetchUserData(userId, data -> {
        fetchUserEmail(userId, email -> {
            callback.accept(new UserInfo(data, email));
        });
    });
}

private void fetchUserData(int userId, Consumer<String> callback) {
    new Thread(() -> {
        try {
            Thread.sleep(1000);
            callback.accept("User Data for " + userId);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }).start();
}

private void fetchUserEmail(int userId, Consumer<String> callback) {
    new Thread(() -> {
        try {
            Thread.sleep(500);
            callback.accept("user" + userId + "@example.com");
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }).start();
}
```

### ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«é–¢æ•°

ã‚¯ãƒ©ã‚¹ã«å±ã•ãªã„é–¢æ•°ã‚’å®šç¾©ã§ãã¾ã™ã€‚ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã‚’ç°¡æ½”ã«æ›¸ã‘ã¾ã™ã€‚

**Kotlin ã®ä¾‹ï¼š**

```kotlin
// MyUtils.kt ãƒ•ã‚¡ã‚¤ãƒ«

// ã‚¯ãƒ©ã‚¹ã«å±ã•ãªã„é–¢æ•°
fun calculateTotal(items: List<Int>): Int {
    return items.sum()
}

fun formatCurrency(amount: Double): String {
    return "\\$%.2f".format(amount)
}

fun isValidEmail(email: String): Boolean {
    return email.contains("@") && email.contains(".")
}

// ä½¿ç”¨ä¾‹
fun main() {
    val total = calculateTotal(listOf(10, 20, 30))  // 60
    println(formatCurrency(99.5))  // $99.50
    println(isValidEmail("user@example.com"))  // true
}
```

**Java ã§ã®åŒç­‰ã®å‡¦ç†ï¼š**

```java
// Java ã§ã¯ãƒ¡ã‚½ãƒƒãƒ‰ã¯å¿…ãšã‚¯ãƒ©ã‚¹ã«å±ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
public class MyUtils {
    public static int calculateTotal(List<Integer> items) {
        int total = 0;
        for (int item : items) {
            total += item;
        }
        return total;
    }

    public static String formatCurrency(double amount) {
        return String.format("$%.2f", amount);
    }

    public static boolean isValidEmail(String email) {
        return email.contains("@") && email.contains(".");
    }
}

// ä½¿ç”¨ä¾‹
int total = MyUtils.calculateTotal(Arrays.asList(10, 20, 30));
System.out.println(MyUtils.formatCurrency(99.5));
```

### ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¼•æ•°

é–¢æ•°ã®å¼•æ•°ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’æŒ‡å®šã§ãã¾ã™ã€‚ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ãŒä¸è¦ã«ãªã‚Šã¾ã™ã€‚

```kotlin
// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¼•æ•°ã‚’æŒ‡å®š
fun greet(name: String = "World", greeting: String = "Hello") {
    println("$greeting, $name!")
}

// æ§˜ã€…ãªå‘¼ã³å‡ºã—æ–¹ãŒå¯èƒ½
greet()                           // Hello, World!
greet("Kotlin")                   // Hello, Kotlin!
greet(greeting = "Hi")            // Hi, World!
greet("Kotlin", "Howdy")          // Howdy, Kotlin!
greet(name = "Kotlin", greeting = "Hey")  // Hey, Kotlin!

// è¤‡é›‘ãªä¾‹
fun createConnection(
    host: String = "localhost",
    port: Int = 3306,
    timeout: Int = 5000,
    retries: Int = 3
) {
    println("Connecting to $host:$port with timeout=$timeout, retries=$retries")
}

// ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ãŒä¸è¦
createConnection()
createConnection("192.168.1.1")
createConnection(port = 5432)
createConnection("server.com", 5432, 10000)
```

**Java ã§ã®åŒç­‰ã®å‡¦ç†ï¼ˆã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ãŒå¿…è¦ï¼‰ï¼š**

```java
// Java ã§ã¯ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
public void greet() {
    greet("World", "Hello");
}

public void greet(String name) {
    greet(name, "Hello");
}

public void greet(String name, String greeting) {
    System.out.println(greeting + ", " + name + "!");
}

// è¤‡æ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å ´åˆã€ãƒ¡ã‚½ãƒƒãƒ‰ã®æ•°ãŒçˆ†ç™ºã™ã‚‹
public void createConnection() {
    createConnection("localhost", 3306, 5000, 3);
}

public void createConnection(String host) {
    createConnection(host, 3306, 5000, 3);
}

public void createConnection(String host, int port) {
    createConnection(host, port, 5000, 3);
}

public void createConnection(String host, int port, int timeout) {
    createConnection(host, port, timeout, 3);
}

public void createConnection(String host, int port, int timeout, int retries) {
    System.out.println("Connecting to " + host + ":" + port);
}
```

### åå‰ä»˜ãå¼•æ•°

é–¢æ•°å‘¼ã³å‡ºã—ã®éš›ã«å¼•æ•°åã‚’æ˜ç¤ºã§ãã¾ã™ã€‚ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ãŒå‘ä¸Šã—ã¾ã™ã€‚

```kotlin
fun sendEmail(to: String, subject: String, body: String, cc: String = "") {
    println("Sending email to $to with subject: $subject")
}

// ä½ç½®ã«ã‚ˆã‚‹æŒ‡å®š
sendEmail("user@example.com", "Hello", "This is a test")

// åå‰ä»˜ãå¼•æ•°ã§å¯èª­æ€§ãŒå‘ä¸Š
sendEmail(
    to = "user@example.com",
    subject = "Hello",
    body = "This is a test"
)

// é †åºã‚’å¤‰ãˆã‚‹ã“ã¨ã‚‚å¯èƒ½
sendEmail(
    subject = "Hello",
    body = "This is a test",
    to = "user@example.com",
    cc = "admin@example.com"
)

// Builder ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã‚ˆã†ãªä½¿ã„æ–¹ã‚‚å¯èƒ½
data class RequestConfig(
    val url: String,
    val method: String = "GET",
    val timeout: Int = 5000,
    val retries: Int = 3,
    val headers: Map<String, String> = emptyMap()
)

// æ˜ç¢ºãªæ„å›³ã‚’æŒã£ãŸã‚³ãƒ¼ãƒ‰
val config = RequestConfig(
    url = "https://api.example.com/users",
    method = "POST",
    timeout = 10000,
    headers = mapOf("Authorization" to "Bearer token")
)

```

**Java ã§ã®å‚è€ƒï¼ˆBuilder ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰ï¼š**

```java
public class RequestConfig {
    private final String url;
    private final String method;
    private final int timeout;
    private final int retries;
    private final Map<String, String> headers;

    private RequestConfig(Builder b) {
        this.url = b.url;
        this.method = b.method;
        this.timeout = b.timeout;
        this.retries = b.retries;
        this.headers = b.headers;
    }

    public static class Builder {
        private String url;
        private String method = "GET";
        private int timeout = 5000;
        private int retries = 3;
        private Map<String, String> headers = new HashMap<>();

        public Builder url(String url) { this.url = url; return this; }
        public Builder method(String method) { this.method = method; return this; }
        public Builder timeout(int timeout) { this.timeout = timeout; return this; }
        public Builder retries(int retries) { this.retries = retries; return this; }
        public Builder headers(Map<String, String> headers) { this.headers = headers; return this; }

        public RequestConfig build() { return new RequestConfig(this); }
    }
}

// ä½¿ç”¨ä¾‹ï¼ˆåå‰ä»˜ãå¼•æ•°ã«è¿‘ã„å¯èª­æ€§ã‚’ Builder ã§ç¢ºä¿ï¼‰
RequestConfig config = new RequestConfig.Builder()
    .url("https://api.example.com/users")
    .method("POST")
    .timeout(10000)
    .headers(Map.of("Authorization", "Bearer token"))
    .build();
```

### ä¸­ç½®é–¢æ•°ï¼ˆInfix functionsï¼‰

```kotlin
infix fun Int.times(str: String) = str.repeat(this)
2 times "Bye " // "Bye Bye "
```

### ã‚¹ã‚³ãƒ¼ãƒ—é–¢æ•°

Kotlin ã«ã¯ `let`, `run`, `with`, `apply`, `also` ã¨ã„ã†5ã¤ã®ã‚¹ã‚³ãƒ¼ãƒ—é–¢æ•°ãŒã‚ã‚Šã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå†…ã§ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚ã“ã‚Œã‚‰ã‚’ä½¿ã†ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰ã‚’ã‚ˆã‚Šç°¡æ½”ã§èª­ã¿ã‚„ã™ãã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

#### let

null ãƒã‚§ãƒƒã‚¯ã‚„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å¤‰æ›ã«ä¾¿åˆ©ã§ã™ã€‚

```kotlin
// null å®‰å…¨ãªå‡¦ç†
val name: String? = "Kotlin"
name?.let {
    println("Name length: ${it.length}")
    println("Uppercase: ${it.uppercase()}")
}

// å¤‰æ›å‡¦ç†
val result = "42".let {
    it.toInt() * 2
}  // 84
```

#### run

ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–ã‚„è¨ˆç®—çµæœã‚’è¿”ã™å ´åˆã«ä½¿ç”¨ã—ã¾ã™ã€‚

```kotlin
val result = "Hello".run {
    println(this)
    this.length
}  // 5

// è¤‡æ•°ã®å‡¦ç†ã‚’ã¾ã¨ã‚ã‚‹
val config = run {
    val host = getHost()
    val port = getPort()
    Configuration(host, port)
}
```

#### with

ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦è¤‡æ•°ã®æ“ä½œã‚’è¡Œã†å ´åˆã«ä¾¿åˆ©ã§ã™ã€‚

```kotlin
val person = Person()
with(person) {
    name = "Kotlin"
    age = 10
    city = "Tokyo"
}

// StringBuilder ã®ä¾‹
val message = with(StringBuilder()) {
    append("Hello")
    append(" ")
    append("World")
    toString()
}
```

#### apply

ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–ã‚„è¨­å®šã«æœ€é©ã§ã™ã€‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè‡ªèº«ã‚’è¿”ã—ã¾ã™ã€‚

```kotlin
val person = Person().apply {
    name = "Kotlin"
    age = 10
    email = "kotlin@example.com"
}

// Android ã® View è¨­å®šã§ã‚ˆãä½¿ç”¨
val textView = TextView(context).apply {
    text = "Hello"
    textSize = 20f
    setTextColor(Color.BLACK)
}
```

#### also

ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã™ã‚‹è¿½åŠ çš„ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ãƒ‡ãƒãƒƒã‚°ã‚„ãƒ­ã‚®ãƒ³ã‚°ã«ä¾¿åˆ©ã§ã™ã€‚

```kotlin
val numbers = mutableListOf(1, 2, 3)
    .also { println("åˆæœŸå€¤: $it") }
    .apply { add(4) }
    .also { println("è¿½åŠ å¾Œ: $it") }

// ãƒã‚§ãƒ¼ãƒ³å‡¦ç†ã§ã®ãƒ‡ãƒãƒƒã‚°
val result = calculateValue()
    .also { println("è¨ˆç®—çµæœ: $it") }
    .let { it * 2 }
    .also { println("2å€: $it") }
```

#### ã‚¹ã‚³ãƒ¼ãƒ—é–¢æ•°ã®ä½¿ã„åˆ†ã‘

| é–¢æ•°  | ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‚ç…§ | æˆ»ã‚Šå€¤           | ä¸»ãªç”¨é€”             |
| ----- | ---------------- | ---------------- | -------------------- |
| let   | it               | ãƒ©ãƒ ãƒ€ã®çµæœ     | null ãƒã‚§ãƒƒã‚¯ã€å¤‰æ›  |
| run   | this             | ãƒ©ãƒ ãƒ€ã®çµæœ     | åˆæœŸåŒ–ã€è¨ˆç®—         |
| with  | this             | ãƒ©ãƒ ãƒ€ã®çµæœ     | è¤‡æ•°ã®æ“ä½œã‚’ã¾ã¨ã‚ã‚‹ |
| apply | this             | ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè‡ªèº« | ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®š   |
| also  | it               | ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè‡ªèº« | å‰¯ä½œç”¨ã€ãƒ­ã‚®ãƒ³ã‚°     |

**Java ã«ã¯ã“ã®ã‚ˆã†ãªã‚¹ã‚³ãƒ¼ãƒ—é–¢æ•°ãŒãªã„ãŸã‚ã€åŒæ§˜ã®å‡¦ç†ã‚’è¡Œã†å ´åˆã¯ã‚ˆã‚Šå†—é•·ãªã‚³ãƒ¼ãƒ‰ã«ãªã‚Šã¾ã™ã€‚**

```java
// Java: å†—é•·ãªè¨˜è¿°
Person person = new Person();
person.setName("Java");
person.setAge(25);
person.setEmail("java@example.com");

// Kotlin: apply ã‚’ä½¿ã£ãŸç°¡æ½”ãªè¨˜è¿°
val person = Person().apply {
    name = "Kotlin"
    age = 25
    email = "kotlin@example.com"
}
```

### ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œ

- Expect/Actual å®£è¨€ã§ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ é–‹ç™ºã‚’ã‚µãƒãƒ¼ãƒˆ

### Explicit API ãƒ¢ãƒ¼ãƒ‰

- ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä½œæˆè€…å‘ã‘ã® API å…¬é–‹åˆ¶å¾¡æ©Ÿèƒ½

## Kotlin Ã— Spring æœ€æ–°å‹•å‘ï¼ˆ2025å¹´5æœˆï¼‰

JetBrains ã¨ Spring ãƒãƒ¼ãƒ ãŒæˆ¦ç•¥çš„ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚·ãƒƒãƒ—ã‚’ç™ºè¡¨ã—ã€Kotlin ã®ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰é–‹ç™ºã‚’å¼·åŒ–ã™ã‚‹å–ã‚Šçµ„ã¿ãŒé€²è¡Œä¸­ã§ã™ï¼ˆ[Strengthening Kotlin for Backend Development: A Strategic Partnership With Spring](https://blog.jetbrains.com/kotlin/2025/05/strategic-partnership-with-spring/)ï¼‰ã€‚ä¸»ãªãƒã‚¤ãƒ³ãƒˆã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

- **Kotlin/Spring ã® null å®‰å…¨æ€§å¼·åŒ–**: ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å´ã§å‹å®‰å…¨æ€§ã‚’åº•ä¸Šã’ã—ã€è¿½åŠ è¨­å®šãªã—ã§æ©æµã‚’å—ã‘ã‚‰ã‚Œã‚‹è¦‹è¾¼ã¿ã€‚
- **å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® Kotlin åŒ–**: Spring ã®å­¦ç¿’ãƒªã‚½ãƒ¼ã‚¹ã‚’ Kotlin ç‰ˆã§ã‚‚æä¾›ã—ã€åˆå­¦è€…ãŒæœ€åˆã‹ã‚‰ Kotlin ã§å­¦ã¹ã‚‹ã‚ˆã†ã«ã€‚
- **kotlinx.reflect ã®é«˜é€ŸåŒ–**: DI ã‚„ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºãªã©ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³å¤šç”¨ç®‡æ‰€ã§ã®æ€§èƒ½å‘ä¸Šã‚’ç›®æŒ‡ã™æ–°å®Ÿè£…ã‚’é–‹ç™ºä¸­ã€‚
- **è¨­å®š DSL ã®é€²åŒ–**: Bean Registration DSL ã‚’çš®åˆ‡ã‚Šã«ã€ãƒ©ãƒ ãƒ€/DSL ãƒ™ãƒ¼ã‚¹ã®æ§‹æˆã‚’æ‹¡å……äºˆå®šã€‚

ç¾æ™‚ç‚¹ã§ã‚‚ Spring ã¯ Kotlin å‘ã‘æ©Ÿèƒ½ã‚’å¤šæ•°ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ï¼š

- ã‚³ãƒ«ãƒ¼ãƒãƒ³ã®ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚µãƒãƒ¼ãƒˆï¼ˆæ§‹é€ åŒ–ä¸¦è¡Œæ€§ï¼‰
- Kotlin æ‹¡å¼µãƒ»DSLï¼ˆãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€Bean å®šç¾©ãªã©ï¼‰
- Kotlin/Java æ··åœ¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹é‹ç”¨ã€æ®µéšçš„ç§»è¡ŒãŒå®¹æ˜“

æ¡ç”¨çŠ¶æ³ã¨ãƒªã‚½ãƒ¼ã‚¹ï¼š

- Spring é–‹ç™ºè€…ã®ç´„ 27% ãŒ Kotlin ã‚’åˆ©ç”¨ï¼ˆSpring Framework ã®å‰µè¨­è€… Rod Johnson ã‚‚ Kotlin ã‚’åˆ©ç”¨ï¼‰
- [å…¬å¼ã‚µãƒ³ãƒ—ãƒ«ï¼šKotlin ç‰ˆ Petclinicï¼ˆSpring Petklinicï¼‰](https://kotl.in/y4rbo8)
- [ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ï¼šRESTful Web Service with Kotlin and Spring](https://kotl.in/5vx9p3)
- è¬›æ¼”å‹•ç”»ï¼š
    - [Rod Johnsonã€ŒKotlin and Spring: The modern server side stackã€](https://youtu.be/NcAW-FZtpzk)
    - [SÃ©bastien Deleuzeã€ŒNext level Kotlin support in Spring Boot 4ã€](https://youtu.be/aBP5Igz3_A4?si=hR7Lpsq0Tok0fbB8)

## ã¾ã¨ã‚

Kotlin ã¯ Java ã®ä¸Šä½äº’æ›ã¨ã—ã¦è¨­è¨ˆã•ã‚Œã¦ãŠã‚Šã€Java ã®æŒã¤å¤šãã®å•é¡Œã‚’è§£æ±ºã—ãªãŒã‚‰ã€ã•ã‚‰ã«å¤šãã®å¼·åŠ›ãªæ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚

**Kotlin ã‚’é¸ã¶ã¹ãç†ç”±ï¼š**

1. **å®‰å…¨æ€§**: Null å®‰å…¨æ€§ã«ã‚ˆã‚Šã€å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã‚’å¤§å¹…ã«å‰Šæ¸›
2. **ç°¡æ½”æ€§**: åŒã˜æ©Ÿèƒ½ã‚’ã‚ˆã‚Šå°‘ãªã„ã‚³ãƒ¼ãƒ‰ã§è¨˜è¿°å¯èƒ½
3. **è¡¨ç¾åŠ›**: ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ã€æ‹¡å¼µé–¢æ•°ã€ã‚¹ãƒãƒ¼ãƒˆã‚­ãƒ£ã‚¹ãƒˆãªã©ã€ãƒ¢ãƒ€ãƒ³ãªæ©Ÿèƒ½ãŒè±Šå¯Œ
4. **ç”Ÿç”£æ€§**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¼•æ•°ã€åå‰ä»˜ãå¼•æ•°ã€æ–‡å­—åˆ—ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãªã©ã§é–‹ç™ºåŠ¹ç‡ãŒå‘ä¸Š
5. **éåŒæœŸå‡¦ç†**: ã‚³ãƒ«ãƒ¼ãƒãƒ³ã«ã‚ˆã‚‹å„ªã‚ŒãŸéåŒæœŸãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®ã‚µãƒãƒ¼ãƒˆ
6. **Java ã¨ã®äº’æ›æ€§**: æ—¢å­˜ã® Java ã‚³ãƒ¼ãƒ‰ã¨ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«é€£æºå¯èƒ½

ä¸€æ–¹ã§ã€Java ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªå ´åˆã«é¸æŠè‚¢ã¨ãªã‚Šã¾ã™ï¼š

- æ—¢å­˜ã®å¤§è¦æ¨¡ Java ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹
- ãƒãƒ¼ãƒ å…¨ä½“ãŒ Java ã«ç²¾é€šã—ã¦ãŠã‚Šã€å­¦ç¿’ã‚³ã‚¹ãƒˆã‚’é¿ã‘ãŸã„å ´åˆ
- Java å°‚ç”¨ã®ãƒ„ãƒ¼ãƒ«ã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ

ã—ã‹ã—ã€**æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚Œã°ã€ç‰¹åˆ¥ãªç†ç”±ãŒãªã„é™ã‚Š Kotlin ã‚’é¸æŠã™ã‚‹ã“ã¨ã‚’å¼·ãæ¨å¥¨ã—ã¾ã™ã€‚**
Kotlin ã¯ Java ã¨ã®ç›¸äº’é‹ç”¨æ€§ãŒé«˜ã„ãŸã‚ã€å¿…è¦ã«å¿œã˜ã¦ Java ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚‚åˆ©ç”¨ã§ãã¾ã™ã€‚

## å‚è€ƒãƒªãƒ³ã‚¯

- [Kotlin å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ - Comparison to Java](https://kotlinlang.org/docs/comparison-to-java.html)
- [Calling Java from Kotlin](https://kotlinlang.org/docs/java-interop.html)
- [Kotlin ã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ‰](https://kotlinlang.org/docs/coding-conventions.html)
